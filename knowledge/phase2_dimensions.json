{
  "database": "ecommerce_db",
  "database_type": "postgres",
  "description": "Database dimension analysis for BI and analytics",
  "dimensions": [
    {
      "name": "dim_category",
      "type": "product",
      "description": "商品分類維度表 - 包含商品分類的層次結構和屬性",
      "source_table": "categories",
      "key_fields": [
        "id"
      ],
      "attributes": [
        "name",
        "description",
        "parent_id",
        "sort_order",
        "is_active"
      ],
      "business_use": "用於分析商品分類表現、分類層次統計、分類銷售趨勢"
    },
    {
      "name": "dim_location",
      "type": "location",
      "description": "地理位置維度表 - 包含顧客地址、配送地區等地理信息",
      "source_table": "customer_addresses",
      "key_fields": [
        "id",
        "customer_id"
      ],
      "attributes": [
        "address_type",
        "is_default",
        "street_address",
        "city",
        "state",
        "postal_code",
        "country"
      ],
      "business_use": "用於分析地理銷售分佈、配送區域優化、地區顧客行為"
    },
    {
      "name": "dim_customer",
      "type": "people",
      "description": "顧客維度表 - 包含顧客的基本信息、會員等級、消費行為等",
      "source_table": "customers",
      "key_fields": [
        "id",
        "uuid",
        "email"
      ],
      "attributes": [
        "name",
        "phone",
        "date_of_birth",
        "gender",
        "registration_date",
        "last_login",
        "is_active",
        "customer_type",
        "total_orders",
        "total_spent",
        "loyalty_points"
      ],
      "business_use": "用於分析顧客行為、會員分群、個性化推薦、顧客價值分析"
    },
    {
      "name": "dim_product_variant",
      "type": "product",
      "description": "商品變體維度表 - 包含商品的具體規格變體信息",
      "source_table": "product_variants",
      "key_fields": [
        "id",
        "sku"
      ],
      "attributes": [
        "product_id",
        "name",
        "price",
        "cost_price",
        "compare_at_price",
        "weight",
        "dimensions",
        "inventory_quantity",
        "option1",
        "option2",
        "option3",
        "is_active"
      ],
      "business_use": "用於分析商品變體銷售、庫存管理、規格偏好分析"
    },
    {
      "name": "dim_date",
      "type": "time",
      "description": "時間維度表 - 從訂單中提取的時間相關信息",
      "source_table": "orders",
      "key_fields": [
        "id"
      ],
      "attributes": [
        "created_at",
        "updated_at",
        "order_date",
        "confirmed_at",
        "shipped_at",
        "delivered_at",
        "cancelled_at"
      ],
      "business_use": "用於時間序列分析、銷售趨勢、季節性分析、訂單處理時間統計"
    },
    {
      "name": "dim_product",
      "type": "product",
      "description": "商品維度表 - 包含商品的基本信息、價格、庫存、分類等",
      "source_table": "products",
      "key_fields": [
        "id",
        "sku"
      ],
      "attributes": [
        "name",
        "description",
        "price",
        "cost_price",
        "compare_at_price",
        "weight",
        "dimensions",
        "inventory_quantity",
        "inventory_policy",
        "is_active",
        "is_featured",
        "tags",
        "seo_title",
        "seo_description"
      ],
      "business_use": "用於分析商品銷售表現、庫存管理、價格策略、商品分類統計"
    },
    {
      "name": "dim_review",
      "type": "event",
      "description": "評論事件維度表 - 包含產品評論、評價等用戶反饋信息",
      "source_table": "reviews",
      "key_fields": [
        "id"
      ],
      "attributes": [
        "product_id",
        "customer_id",
        "order_id",
        "rating",
        "title",
        "content",
        "images",
        "helpful_votes",
        "status",
        "created_at",
        "updated_at"
      ],
      "business_use": "用於分析產品評價趨勢、顧客滿意度、評論情感分析"
    },
    {
      "name": "dim_shipment",
      "type": "event",
      "description": "運送事件維度表 - 包含訂單運送、物流信息",
      "source_table": "shipments",
      "key_fields": [
        "id",
        "order_id"
      ],
      "attributes": [
        "tracking_number",
        "carrier",
        "status",
        "shipping_address",
        "weight",
        "dimensions",
        "estimated_delivery",
        "delivered_at",
        "created_at",
        "updated_at"
      ],
      "business_use": "用於分析物流效率、運送時間、配送成本、地區配送統計"
    },
    {
      "name": "dim_promotion",
      "type": "event",
      "description": "行銷活動維度表 - 包含優惠券、促銷活動等行銷信息",
      "source_table": "coupons",
      "key_fields": [
        "id",
        "code"
      ],
      "attributes": [
        "name",
        "description",
        "discount_type",
        "discount_value",
        "minimum_amount",
        "maximum_discount",
        "usage_limit",
        "usage_count",
        "starts_at",
        "expires_at",
        "is_active",
        "applicable_products",
        "applicable_categories"
      ],
      "business_use": "用於分析促銷效果、優惠券使用率、行銷ROI、顧客響應度"
    }
  ],
  "phase": "phase2_dimensions",
  "summary": {
    "dimensions_by_type": {
      "event": 3,
      "location": 1,
      "people": 1,
      "product": 3,
      "time": 1
    },
    "recommended_fact_tables": [
      {
        "description": "銷售事實表 - 記錄每筆銷售交易的詳細信息",
        "dimensions": [
          "dim_date",
          "dim_customer",
          "dim_product",
          "dim_location",
          "dim_promotion"
        ],
        "measures": [
          "order_amount",
          "quantity",
          "discount_amount",
          "tax_amount",
          "shipping_cost"
        ],
        "name": "fact_sales"
      },
      {
        "description": "庫存事實表 - 記錄庫存變動和商品流轉信息",
        "dimensions": [
          "dim_date",
          "dim_product",
          "dim_location"
        ],
        "measures": [
          "quantity_change",
          "unit_cost",
          "total_value"
        ],
        "name": "fact_inventory"
      },
      {
        "description": "顧客行為事實表 - 記錄顧客的各種行為事件",
        "dimensions": [
          "dim_date",
          "dim_customer",
          "dim_product",
          "dim_location"
        ],
        "measures": [
          "event_count",
          "session_duration",
          "page_views"
        ],
        "name": "fact_customer_behavior"
      }
    ],
    "total_dimensions": 9
  },
  "timestamp": "2025-11-05T13:55:56.848185+08:00"
}